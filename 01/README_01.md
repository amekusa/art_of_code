---
marp: true
paginate: true
theme: default
style: @import "../.theme/style.css";
------

<div id="cover">
	<h1 class="logo">ART_OF_<b>CODE</b></h1>
	<p class="title">p5.js で学ぶ JavaScript</p>
  <p class="author">&copy; 2022 Satoshi Soma</p>
</div>

---

## JavaScript とは
JavaScript は数ある *プログラミング言語* のうちの一つ。

HTML や CSS とは全く別の言語であり、
HTML と CSS がそれぞれ **独自の文法規則** を持つように、
JavaScript にも独自の文法規則で成り立っている。

頭文字をとって **JS** とも呼ばれる。

---

ウェブサイトにおいて

HTML は **文書構造の定義**、
CSS は主に **ページの装飾** という役割を担うのに対し

JS は主にウェブページにおいて、
**ユーザーの入力に応じた複雑な動作を実現するため** に用いられる。

---

HTML と CSS だけでは実現できない複雑な機能は
ほとんど場合 JavaScript によって実装されている。

**JS を使っていないウェブサイトの方が珍しい**
というほど今日のウェブにおいて一般的な技術であり、

HTML, CSS, JS はウェブ<small>（フロントエンド）</small>を支える**三本の柱** と言っても良いだろう。

---

## JavaScript の活用事例をみてみよう

### 商品プロモーションサイト
- [iPhone 15 @ apple.com](https://www.apple.com/iphone-15/)
- [マリオ @ nintendo.com](https://www.nintendo.com/jp/switch/aqmxa/index.html)

いずれのサイトも商品の魅力を最大限伝えるため、
*ダイナミックな動き*をふんだんに取り入れたページ構成となっている。

**スクロールやホバーといったユーザーの入力に応じた複雑なインタラクション**を実現しているのは JavaScript の力に他ならない。

---

### ゲーム, アート系
- [CrossCode クロスコード（ゲーム, 2D）](www.cross-code.com)
  - Nintendo Switch などのコンソールにも移植されている、90 年代風アクション RPG。クリアに少なくとも 20 時間以上はかかる（実体験）壮大な規模のインディーゲーム。
- [Friday Night Funkin（ゲーム, 2D）](https://ninja-muffin24.itch.io/funkin)
  - 一時期流行したリズムゲーム。
- [three.js（ライブラリ, 3D）](https://threejs.org/)
- [Gamedev.js Jam 2023（ゲームコンテスト）](https://gamedevjs.com/jam/2023/)
- [Elastic Man（アート, 3D）](https://www.adultswim.com/etcetera/elastic-man/)

インディーゲーム界隈を中心に、*JS 製のゲームエンジン*が採用されることも珍しくなくなってきた。JS 製のゲームは [itch.io](https://itch.io/games/html5) で公開されているものも多い。興味が湧いたらチェックしてみよう。JS 製ゆえ *ブラウザ上で気軽に実行できる* という強みも大きい。

---

# JS を動かしてみよう

---

JavaScript は **`.js`** という拡張子のファイルに記述する。
`.js` ファイルは **`<script>` という HTML タグ** で読み込む。


### 書き方:
```html
<script src="読み込むJSファイル"></script>
```

---

### 演習 #1:
1. `01` フォルダの `index.html` をブラウザと VSCode で開く。
2. `index.html` の **`<head>` タグの中に `<script>` タグを記述** し、
    `01` フォルダの **`hello.js`** を読み込む。
3. `hello.js` を VSCode で開き、以下を記述する。（コピペは無しで）
```js
alert('Hello World!');
```

4. ブラウザを更新して結果を確認する。

---

### JS の基本文法 1:
行の終わりには `;`<small>（セミコロン）</small>をつける。

> 実は `;` を省いてもいいのだが、そこには思わぬ落とし穴が存在するので、
初心者は必ず `;` をつけることを私は推奨する。

英語が文の終わりに `.`（ピリオド）を、
日本語が `。`（句点）をつけるように、
JS は `;` をつけるのだ。

---

### JS の基本文法 2:
`//`（ダブルスラッシュ）は *コメント行* 。
*`//` より右側の文字列* はコメント扱いとなり、*実行されることがない*。
ゆえに何を書いてもエラーになる心配もない。

```js
// コメント
alert('Hello World'); // アラート関数の呼び出し
```

HTML における `<!-- -->` と同じ役割と捉えてよい。
自分のコードに小まめにコメントを残す癖をつけよう。

---

複数行にわたるコメントを残したい時は
`/*` と `*/` を用いる。

*`/*` と `*/` に囲まれている文字列* は、**行を跨いでいてもコメント扱い**となる。

```js
/* コメント開始
コメント
コメント
コメント
コメント終了 */
```

---

### JS の基本文法 3:
JS は *上の行から下の行に向かって順番に実行* される。

```js
alert('Hello'); // 最初
alert('World'); // 次
```

---

### 演習 #2:
1. `01` フォルダの `math.html` をブラウザと VSCode で開く。
2. `math.html` の **`<body>` タグ内の最後の行に `<script>` タグを記述** し、
    `01` フォルダの **`math.js`** を読み込む。
3. ブラウザを更新して動作を確認する。
4. `math.js` を VSCode で開き、**正しい動作になるようコードを書き換える**。

---

# プログラミングでアートする
技術（Tech）と 芸術（Art）

---

### 技術によって創出されるアート

- [ライゾマティクスのインスタレーション](https://rhizomatiks.com/work/)
- [フラクタルアート](https://www.youtube.com/results?search_query=fractal+art)
- [p5.js による作例](https://showcase.p5js.org/#/2021-All)

---

## p5.js
プログラミングによってアートやインタラクティブコンテンツ,
ゲームなどを制作するための **JavaScript 用ライブラリ。**
JS の文法に沿ったコードを書きつつ、
p5.js によって提供される様々な機能を必要に応じて呼び出すことで、
クリエイティブなコーディングに注力することができる。

---

## p5.js で JS を書いてみよう
1. まずは [p5js.org](https://p5js.org/) にアクセスする。
2. 左のメニューから [Editor](https://editor.p5js.org/) をクリック。
3. このブラウザ上のページだけで**コードの編集から実行**までを行うことができる。

---

## p5.js Editor の使い方
1. 画面の左側でコードの編集を行う。
2. :arrow_forward: ボタンでコードの実行。
    実行結果が右側の `Preview` エリアに表示される。

また、`Auto-refresh` にチェックを付ければ、
コードの編集が自動的に `Preview` に反映される。

---

## "スケッチ" の書き方
p5.js を使って書かれたコードは **"スケッチ"** と呼ばれる。
スケッチの書き方には **p5.js 独自のルール**が存在する。
ただし、コード自体は JavaScript なので、
スケッチを書く過程で覚えた JS の文法は、
**スケッチ以外の JS プログラミングにも応用できる。**

---

### ルール 1:
**`setup` 関数** は
スケッチの実行時、**最初に一回だけ実行**される。

```js
function setup() {
    // ここは最初に一回だけ実行される。
}
```

（ "関数" とは何かは後々解説します。）

---

### ルール 2:
**`draw` 関数** は
`setup` 関数の実行後、**一定の間隔で実行され続ける**。

```js
function draw() {
    // ここは一定の間隔で実行され続ける
}
```

（ デフォルト設定では **毎秒 60 回**。）

---

### ルール 3:
`setup` 関数内で、
**必ず `createCanvas` 関数**を呼び出すこと。

```js
function setup() {
    createCanvas(1280, 720); // 幅, 高さ
}
```

`createCanvas` は指定した幅と高さで**スケッチの最大描画エリア**を決定する。

---

## スケッチを書いてみよう
p5.js Editor を開くと、以下の基本コードが出力される。
このコードに変更を付け加えていこう。

```js
function setup() {
  createCanvas(400, 400);
}

function draw() {
  background(220);
}
```
