---
marp: true
theme: default
paginate: true
------

<style>
    :root {
        font-size: 1.75em;
        font-family: Helvetica, "Hiragino Kaku Gothic Pro", sans-serif;
        line-height: 1.75;
    }
    h1,h2,h3 {
        font-family:
            "Avenir Next",
            Futura,
            sans-serif;

        line-height: 1.25;
    }
</style>

# ART_OF_CODE #3
p5.js で学ぶ JavaScript

---

## 前回のおさらい 1/3

### 変数とは
- **名前（ラベル）の付いた容れ物**。
- どんな値（数, 文字列）でも一つだけ入れられる。
- 入れた**値を後から変える**こともできる。

---

変数を使うには、先に **宣言** をする必要がある。

```js
let 変数名 = 初期値;
```

```js
var 変数名 = 初期値; // let の代わりに var でもよい
```

変数の値を変えるには **代入文** を使う。

```js
変数名 = 値A; // 値:A を代入
変数名 = 値B; // 値:B で上書き
```

**`let`, `var` は宣言時のみ**に用い、代入文では使用しない。

---

変数に入れる値は、**数値** ならそのまま記述（ただし半角で）。

```js
number = 1234; // 変数:number に 1234 を代入
pi     = 3.14; // 小数点を含む数も OK
```

数値ではなく **文字列** を入れる場合は
**`'（シングルクオート）` か `"（ダブルクオート）` で文字列を囲む**。

```js
text = 'ABC あいうえお 123'; // 変数:text に文字列を代入
```

```js
text = "ABC あいうえお 123"; // 変数:text に文字列を代入
```

注意: **クオートは半角**を用いること。

---

## 前回のおさらい 2/3

### 四則演算
数値を用いて **足し算**, **引き算**, **掛け算**, **割り算** ができる。

```js
number = 1 + 2; // number = 3   (足し算)
number = 3 - 4; // number = -1  (引き算)
number = 5 * 6; // number = 30  (掛け算)
number = 8 / 4; // number = 2   (割り算)
```

`()` を用いた複雑な計算も可能。
```js
number = (1 + 2) * (3 - 4); // number = 3 * -1
                            // number = -3
```

---

**変数を計算式に含める**ことも可能。

```js
let x = 2;
let y = x + 1; // y = 2 + 1 = 3
let z = x * y; // z = 2 * 3 = 6
```

用例: 一つの変数値を**相対的に増減**させる。

```js
let money = 1000;          // 所持金　　　　　　 = ¥1,000
money = money + 3000;      // お小遣い　　　　　 = ¥4,000
money = money - (70 * 2);  // ガリガリ君二本購入 = ¥3,860
```

---

**文字列**の場合は**足し算のみ**可能。
文字列を足し算すると、**連結されて一つの文字列になる**。

```js
let sheeps = 3;

let text = '羊が' + sheeps + '匹'; // text = '羊が3匹';

text = text + '出てきたよ'; // text = '羊が3匹出てきたよ';
```

---

## 前回のおさらい 3/3

### 関数とは
- **入口** と **出口** のある、機械仕掛けの **箱**。
- **名前** を持ち、呼ぶと**一定の仕事をしてくれる**。
- 呼ぶ際に、入口から任意の **値を渡す** ことができる。**（入力 Input）**
- **仕事の結果** が出口から出てくる。**（出力 Output）**

---

#### 関数の定義の仕方:

```js
function 関数名(引数名) {

    // 仕事の内容

    return 返り値;
}
```

- **引数**（ひきすう, パラメタ）は、呼び出し元から **入力を受け取る入り口**。
- **返り値**（戻り値とも言う）は、呼び出し元へ **結果を出力する出口**。
- **引数を持たない関数** を定義することも可能。
- **返り値を持たない関数** を定義することも可能。

---

#### 関数の呼び出し方:

```js
関数名(引数値);
```

関数内に書かれたコードは、関数を呼び出すことで**実行**される。

関数の返り値を **変数に代入** したり、
計算式に含めたりすることもできる。

```js
let output = 関数名(引数値); // 変数:output に返り値を保存
```

```js
let output = 関数名(引数値) + 10; // 返り値に 10 を足して保存
```

---

## p5.js 編集環境を整える
- p5.js にユーザー登録
- 便利なショートカットキーを覚える

---

## 条件判定
- 体力がゼロになったらゲームオーバーの画面を出す
- 銃の残弾が無いと、トリガーを引いても弾が出ない
- 好感度が一定値以上でないと、告白しても付き合ってもらえない :broken_heart:

ある特定の **条件** によって **プログラムの処理内容を変えたい** という場合、
**条件判定** を行う仕組みが必要になる。

---

### `if` 文
JS で条件判定を行うには次のように書く。

```js
if (条件文) {

    // 処理内容

}
```

`()` 内に書かれた `条件文` が **真 (true)** なら `{ }` 内の処理が実行される。
逆に、`条件文` が **偽 (false)** なら `{ }` 内は **実行されない**。

---

#### 条件文の書き方
条件文は基本的には、**二つの値を比較する式** で成り立っている。
以下に示す例は、**二つの変数 `x` と `y`** を様々な方法で比較した場合の
`if` 文の記述である。

```js
// 変数の宣言
let x = 1;
let y = 2;
```
```js
if (x < y) {    // x が y よりも小さい場合は 真
```
```js
if (x > y) {    // x が y よりも大きい場合は 真
```

---

`=（イコール）` 記号を含む比較式:
```js
if (x == y) {   // x が y と等しい場合は 真
```
```js
if (x != y) {   // x が y と等しくない場合は 真
```
```js
if (x <= y) {   // x が y 以下の場合は 真
```
```js
if (x >= y) {   // x が y 以上の場合は 真
```

---

#### 演習:
`if` 文を活用したスケッチを描いてみよう。
（質問, アドバイス受け付けます。）

---

### （突然ですが）線を一本引いてみよう。
線を引くには [`line`](https://p5js.org/reference/#/p5/line) 関数を使う。

```js
function draw() {

    // 座標(200, 100) から (200, 300) へ線を引く
    line(200, 100, 200, 300);
}
```

---

### 線をもう一本引いてみよう。
今度は 10px 右にずらして。

```js
function draw() {
  line(200, 100, 200, 300); // 一本目
  line(210, 100, 210, 300); // 二本目
}
```

---

### 「100 本の線を引け」と言われたらどうする？ :thinking:

---

“単純な作業の繰り返し” は**プログラマーの仕事ではない。**
コンピューターに仕事を **命令する** のがプログラミング。

**“Do Not Repeat Yourself.”**
繰り返すのはあなた（プログラマー）ではない。

---

## ループ構文
JS には、**同じような処理を複数回** 実行させたい時に
便利な構文がいくつか存在する。

---

## `for` ループ
**`for` ループ** は、特定の処理を **決められた回数だけ** 実行させたい時に便利な構文だ。

#### 書き方:
```js
for (let i = 0; i < ループ回数; i++) {

    // 実行したい処理

}
```

---

### `for` ループの中では何が起きている？
`for` の右の `()` の中に注目してほしい。
プログラムが `for` の行に到達すると、

1. **変数 `i`** が宣言される。初期値は `0` 。
```js
let i = 0;
```
2. 変数 `i` が **`ループ回数` より小さいか否か** の **条件判定** が行われる。
```js
i < ループ回数;
```

---

3. そして、**2 の条件に合致した場合のみ** `{ }` 内の処理が実行される。

4. `{ }` の実行が終わると、**変数 `i` に +1** 加算される。
```js
i++
```

5. ふたたび **2 の条件判定** が行われる。

---

`for` ループは上記の 1 から 5 までの流れを、
変数 `i` の値が、 **`ループ回数` 以上** になるまで繰り返す。
この変数 `i` のことを **ループカウンター** と呼ぶ。（ループの回数を数える変数）

まとめると、

---

| 手順 | 内容 |
|:---:|:----|
| 1. | ループカウンタの宣言 |
| 2. | 条件判定（条件に合致しなければ `for` 文を終了する） |
| 3. | `{ }` の処理の実行 |
| 4. | ループカウンタに +1 |
| 5. | 2 に戻る |

---

ちなみに、
ループカウンターの変数名が **`i`** である必要は**特にない**。
ただの変数名なので**何でもいい**。

しかし**慣習的**に `i` が使われることが多い。
何故 `i` なのかというと、
**iterator（イテレーター, 反復子）** の頭文字からとっているから。

---

### 演習:
`for` 文を使って、**縞模様** を描いてみよう。
（質問、アドバイス受け付けます。）

---

サンプルコード:
https://editor.p5js.org/amekusa/sketches/_CnF4qQTW

参考書籍内のサンプルコード:
http://www.bnn.co.jp/support/generativedesign_p5js/
